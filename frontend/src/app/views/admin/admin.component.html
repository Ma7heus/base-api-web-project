<div class="admin-page">
  <!-- Header -->
  <div class="page-header">
    <h1>ğŸ” Painel de AdministraÃ§Ã£o</h1>
    <p>Gerenciamento de usuÃ¡rios e configuraÃ§Ãµes do sistema</p>
  </div>

  <!-- Stats Cards -->
  <div class="admin-stats">
    <div class="stat-card">
      <div class="stat-icon">ğŸ‘¥</div>
      <div class="stat-info">
        <h3>{{ users().length }}</h3>
        <p>UsuÃ¡rios Totais</p>
      </div>
    </div>
    <div class="stat-card">
      <div class="stat-icon">ğŸ”</div>
      <div class="stat-info">
        <h3>{{ totalAdmins() }}</h3>
        <p>Administradores</p>
      </div>
    </div>
    <div class="stat-card">
      <div class="stat-icon">ğŸ‘¤</div>
      <div class="stat-info">
        <h3>{{ totalUsers() }}</h3>
        <p>UsuÃ¡rios Comuns</p>
      </div>
    </div>
  </div>

  <!-- Users Table -->
  <div class="users-section">
    <div class="section-header">
      <h2>UsuÃ¡rios do Sistema</h2>
      <button class="btn-primary" (click)="loadUsers()">
        ğŸ”„ Atualizar
      </button>
    </div>

    <!-- Loading State -->
    @if (isLoading()) {
      <div class="loading-container">
        <div class="spinner-large"></div>
        <p>Carregando usuÃ¡rios...</p>
      </div>
    }

    <!-- Error State -->
    @if (errorMessage() && !isLoading()) {
      <div class="alert alert-error">
        {{ errorMessage() }}
      </div>
    }

    <!-- Users Table -->
    @if (!isLoading() && users().length > 0) {
      <div class="table-container">
        <table class="users-table">
          <thead>
            <tr>
              <th>ID</th>
              <th>Nome</th>
              <th>Email</th>
              <th>Login</th>
              <th>Role</th>
              <th>AÃ§Ãµes</th>
            </tr>
          </thead>
          <tbody>
            @for (user of users(); track user.id) {
              <tr>
                <td>{{ user.id }}</td>
                <td>
                  <div class="user-cell">
                    <div class="user-avatar-small">
                      {{ user.name.charAt(0).toUpperCase() }}
                    </div>
                    <span>{{ user.name }}</span>
                  </div>
                </td>
                <td>{{ user.email }}</td>
                <td>{{ user.login || '-' }}</td>
                <td>
                  <span class="badge" [class]="getRoleBadgeClass(user.role)">
                    {{ user.role }}
                  </span>
                </td>
                <td>
                  <div class="action-buttons">
                    <button class="btn-action" title="Editar">
                      âœï¸
                    </button>
                    <button class="btn-action danger" title="Deletar">
                      ğŸ—‘ï¸
                    </button>
                  </div>
                </td>
              </tr>
            }
          </tbody>
        </table>
      </div>
    }

    <!-- Empty State -->
    @if (!isLoading() && users().length === 0 && !errorMessage()) {
      <div class="empty-state">
        <div class="empty-icon">ğŸ“­</div>
        <h3>Nenhum usuÃ¡rio encontrado</h3>
        <p>Ainda nÃ£o hÃ¡ usuÃ¡rios cadastrados no sistema.</p>
      </div>
    }
  </div>

  <!-- Additional Admin Sections -->
  <div class="admin-actions">
    <div class="action-card">
      <h3>ğŸ› ï¸ ConfiguraÃ§Ãµes</h3>
      <p>Gerencie configuraÃ§Ãµes gerais do sistema</p>
      <button class="btn-secondary">Acessar</button>
    </div>
    <div class="action-card">
      <h3>ğŸ“Š RelatÃ³rios</h3>
      <p>Visualize relatÃ³rios e estatÃ­sticas</p>
      <button class="btn-secondary">Acessar</button>
    </div>
    <div class="action-card">
      <h3>ğŸ”’ SeguranÃ§a</h3>
      <p>ConfiguraÃ§Ãµes de seguranÃ§a e logs</p>
      <button class="btn-secondary">Acessar</button>
    </div>
  </div>
</div>
